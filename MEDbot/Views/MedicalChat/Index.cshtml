@{
    ViewBag.Title = "Home Page";
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InfoMed ChatBot</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <style>
    </style>
</head>

<body>

    <style>

       .dark-mode {
            background: blue;
        }
        /* The switch - the box around the slider */
        button {
            font-family: inherit;
            font-size: 20px;
            background: #06b79a;
            color: white;
            padding: 0.4em 0.7em;
/*            padding-left: 0.9em;
*/            display: flex;
            align-items: center;
            border: none;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.2s;
        }

button span {
  display: block;
  margin-left: 0.3em;
  transition: all 0.3s ease-in-out;
}

button svg {
  display: block;
  transform-origin: center center;
  transition: transform 0.3s ease-in-out;
}

button:hover .svg-wrapper {
  animation: fly-1 0.6s ease-in-out infinite alternate;
}

button:hover svg {
  transform: translateX(1.0em) rotate(45deg) scale(1.0);
}

button:hover span {
  transform: translateX(4em);
}

button:active {
  transform: scale(0.95);
}

@@keyframes fly-1 {
  from {
    transform: translateY(0.1em);
  }

  to {
    transform: translateY(-0.1em);
  }
}



        @*
        /* From uiverse.io by @satyamchaudharydev*@
        .spier {
            --clr: rgb(0, 113, 128);
            --gap: 6px;
            /* gap between each circle */
        width: 100px;
        height: 100px;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: var(--gap);
        }

        .spier span {
            width: 20px;
            height: 20px;
            border-radius: 100%;
            background-color: var(--clr);
            opacity: 0;
        }

        .spier span:nth-child(1) {
            animation: fade 1s ease-in-out infinite;
        }

        .spier span:nth-child(2) {
            animation: fade 1s ease-in-out 0.33s infinite;
        }

        .spier span:nth-child(3) {
            animation: fade 1s ease-in-out 0.66s infinite;
        }

        @@keyframes fade {

            0%,
            100% {
                opacity: 1;
            }

            60% {
                opacity: 0;
            }
        }




        @*

        /* From uiverse.io by @AqFox */
        *@ .spinner {
            width: 44px;
            height: 44px;
            animation: spinner-y0fdc1 2s infinite ease;
            transform-style: preserve-3d;
        }

        .spinner>div {
            background-color: rgba(246, 246, 246, 0.733);
            height: 100%;
            position: absolute;
            width: 100%;
            border: 2px solid #06b79a;
        }

        .spinner div:nth-of-type(1) {
            transform: translateZ(-22px) rotateY(180deg);
        }

        .spinner div:nth-of-type(2) {
            transform: rotateY(-270deg) translateX(50%);
            transform-origin: top right;
        }

        .spinner div:nth-of-type(3) {
            transform: rotateY(270deg) translateX(-50%);
            transform-origin: center left;
        }

        .spinner div:nth-of-type(4) {
            transform: rotateX(90deg) translateY(-50%);
            transform-origin: top center;
        }

        .spinner div:nth-of-type(5) {
            transform: rotateX(-90deg) translateY(50%);
            transform-origin: bottom center;
        }

        .spinner div:nth-of-type(6) {
            transform: translateZ(22px);
        }

        @@keyframes spinner-y0fdc1 {
            0% {
                transform: rotate(45deg) rotateX(-25deg) rotateY(25deg);
            }

            50% {
                transform: rotate(45deg) rotateX(-385deg) rotateY(25deg);
            }

            100% {
                transform: rotate(45deg) rotateX(-385deg) rotateY(385deg);
            }
        }

        .loader {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 60vh;
            margin: auto;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
        }

        .bot {
            background: #efefef;
            font-size: x-large;
            color: #6f6f6f;
            border-radius: 20px;
            border-top-left-radius: 0;
            padding: 10px 15px 10px 10px;
            margin-top: 10px;
            float: left;
            max-width: 65%;
            clear: both;
        }

        .user {
            color: white;
            background: #06b79a;
            border-radius: 20px;
            border-top-right-radius: 0;
            padding: 10px 10px 10px 15px;
            margin-top: 10px;
            font-size: x-large;
            max-width: 65%;
            clear: both;
            float: right;
        }
    </style>

    <div class="loader">


        <div class="spinner mx-auto my-auto">
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>




    <div class="container mt-3" id="hideme">

        <div class="row">
            <div class="col-12 col-md-8 offset-md-2">
                <div class="card ">
                    <div class="card-header">

                        <div class="row">
                            <span class="justify-content-end col-2">
                                <button onclick="myFunction()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-moon" viewBox="0 0 16 16">
                                        <path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278zM4.858 1.311A7.269 7.269 0 0 0 1.025 7.71c0 4.02 3.279 7.276 7.319 7.276a7.316 7.316 0 0 0 5.205-2.162c-.337.042-.68.063-1.029.063-4.61 0-8.343-3.714-8.343-8.29 0-1.167.242-2.278.681-3.286z" />
                                    </svg>
                                </button>
                            </span>


                            <div class="card-title text-center col-9 mt-1 ">
                                <h5 class="me-5">
                                    Medical Chat Bot
                                </h5>

                            </div>
                        </div>

                    </div>
                </div>
                <div class="card-body">

                    <form autocomplete="off">
                        <div class="chat-box w-100 border rounded mb-5" style="height: 550px;">

                            <div class="row h-100 overflow-auto " id="sc">
                                <div class="col-12 pt-2 px-4">
                                    <div class="chat-cotent ">
                                        <div class="bot shadow">send any thing to start</div>
                                     





                                    </div>

                                </div>
                                <div class="spier mx-2 " style=" margin-top: auto; ">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div class="input-group mb-3">
                                        <input type="text" class="form-control" placeholder="type here" id="txtMsg"
                                               aria-label="Recipient's username" aria-describedby="button-addon2">
                                     

                                        <button id="btnSend">
                                            <div class="svg-wrapper-1">
                                                <div class="svg-wrapper">
                                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
                                                        <path fill="none" d="M0 0h24v24H0z"></path>
                                                        <path fill="currentColor" d="M1.946 9.315c-.522-.174-.527-.455.01-.634l19.087-6.362c.529-.176.832.12.684.638l-5.454 19.086c-.15.529-.455.547-.679.045L12 14l6-8-8 6-8.054-2.685z"></path>
                                                    </svg>
                                                </div>
                                            </div>
                                        </button>


                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

    </div >
    <footer class="bg-dark text-center text-white mt-5" id="hideCont">
        <div class="container p-4 pb-0">
            <!-- Section: Social media for me -->
            <section class="mb-4 row">

                <!-- Twitter -->
                <div class=" text-center">
                    <div class="text-white">
                        <h3></h3>
                    </div>
                    <a class="btn btn-outline-light btn-floating m-1" href="https://twitter.com/Iz_z61"
                       role="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-twitter" viewBox="0 0 16 16">
                            <path d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z" />
                        </svg>
                    </a>
                    <!-- linkdin -->
                    <a class="btn btn-outline-light btn-floating m-1" href="https://www.linkedin.com/in/abdullah-bakhanbri-967015221"
                       role="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16">
                            <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z" />
                        </svg>
                    </a>
                    <!-- Github -->
                    <a class="btn btn-outline-light btn-floating m-1" href="https://github.com/AbdullahMohmmed"
                       role="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-github" viewBox="0 0 16 16">
                            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" />
                        </svg>
                    </a>
                </div>


                <!--Channel contact information  -->

            </section>
            <!-- Section: Social media -->

        </div>

        <!-- Copyright -->
        <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2);">

            <a class="text-white" href="https://twitter.com/Iz_z61">© Abdullah Bakhnbri. All rights reserved</a>
        </div>

    </footer>


    <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
            crossorigin="anonymous"></script>

    <script>


        $(".spier").hide();
        $("#hideCont").hide();

        $(window).on("load", function () {
            $(".loader").show();
        })

        //  window.setTimeout(() => {
        //     $(".loader").show();
        //  },5000)


        window.setTimeout(() => {
            $(".loader").hide();
        }, 1500)



        $("Contact").hide();

        $("#hideme").hide();


        window.setTimeout(() => {
            $("#hideme").show("slow");
            $("#hideCont").show();

            //$("Contact").show("slow");

        }, 2000)



        function myFunction() {
            var element = document.body;
            element.classList.toggle("dark-mode");
        }

        $(function () {
            $(".change").click(function () {
                $(".chat-box").toggleClass(".dark-mode");
            });
        });







        $(document).ready(function () {
            $('#txtMsg').focus();
        });



        $('#btnSend').on('click', function () {

            var txt = $('#txtMsg').val();
            $("#btnSend").attr("disabled", true);


            $(".spier").show();






            var user = "<p class='user shadow' >{0}</p>";
            var bot = "<p class='bot shadow' >{0}</p>";
            if (txt == '') {
                setTimeout(() => {
                    $("#btnSend").attr("disabled", false);

                    $(".spier").hide();
                    var newLine = bot.replace("{0}", d.msg);
                    $('.chat-cotent').append(newLine);
                    $('#sc').animate({ scrollTop: 5000 })

                }, 1500)            }
            var newLine = user.replace("{0}", txt);
            $('.chat-cotent').append(newLine);
            $('#txtMsg').val('');
            $('#sc').animate({ scrollTop: 5000 })
            $.ajax({
                type: 'POST',
                url: '@Url.Action("Index","MedicalChat")',
                data: { txt: txt },
                success: function (d) {
                    if (txt.toLowerCase() == 'exit') {
                        $('.chat-cotent').empty();
                        $(".spier").hide();
                         $("#btnSend").attr("disabled", false);

                        return;



                    }
                    debugger;
                    if (typeof (d.msg) != "undefined") {

                    $('#sc').animate({ scrollTop: 5000 })

                    setTimeout(() => {
                        $(".spier").hide();
                        var newLine = bot.replace("{0}", d.msg);
                        $('.chat-cotent').append(newLine);
                        $('#sc').animate({ scrollTop: 5000 })
                        $("#btnSend").attr("disabled", false);


                    }, 1200)

                        //if (typeof (flagExit) != "undefined") {
                        //    if (flagExit == true) {


                        //        $('.chat-cotent').empty();
                        //        $(".spier").hide();

                        //        //return;
                        //    }
                        //}

                        if (typeof (d.msg2) != "undefined") {
                            $("#btnSend").attr("disabled", true);

                        setTimeout(() => {
                            $(".spier").show();
                        }, 1600)

                        setTimeout(() => {
                            $(".spier").hide();

                            var newLine = bot.replace("{0}", d.msg2);
                            $('.chat-cotent').append(newLine);
                            $('#sc').animate({ scrollTop: 5000 })
                            $("#btnSend").attr("disabled", false);


                        }, 2500)
                    }

                        if (typeof (d.msg3) != "undefined") {
                            $("#btnSend").attr("disabled", true);

                        setTimeout(() => {
                            $(".spier").show();

                        }, 2600)
                        setTimeout(() => {
                            $(".spier").hide();

                            var newLine = bot.replace("{0}", d.msg3);
                            $('.chat-cotent').append(newLine);
                            $('#sc').animate({ scrollTop: 5000 })
                            $("#btnSend").attr("disabled", false);


                        }, 3500)

                        }
                        

                    }

                    $('#sc').animate({ scrollTop: 5000 })
                    //$("#btnSend").attr("disabled", false);


                }

            });

            return false;
        });
        $('#txtmsg').focus();
    </script>
</body>

</html>